package leetcode.question.dp;
/**
 *@Question:  1363. Largest Multiple of Three
 *@Difculty:  3 [1->Easy, 2->Medium, 3->Hard]
 *@Frequency: 47.73%
 *@Time  Complexity: O(n log n) [å› æ’åºæ“ä½œ]
 *@Space Complexity: O(1) [é¢å¤–çš„å­˜å‚¨ç©ºé—´]
 */

/**
 * ### è§£é¢˜æ€è·¯
 *
 * #### ç›®æ ‡
 * è¦æ„å»ºä¸€ä¸ªèƒ½å¤Ÿè¢«3æ•´é™¤çš„æœ€å¤§æ•°å­—ï¼Œä½¿ç”¨ç»™å®šçš„æ•°å­—æ•°ç»„ã€‚
 *
 * #### æ€è·¯
 * 1. **åŸºç¡€çŸ¥è¯†**ï¼š
 *    - æ•°å­—èƒ½å¤Ÿè¢«3æ•´é™¤çš„æ¡ä»¶æ˜¯å…¶å„ä½æ•°å­—çš„å’Œèƒ½è¢«3æ•´é™¤ã€‚
 *    - å¯¹äºä»»æ„æ•°å­—ï¼Œæ¨¡3çš„ç»“æœå¯ä»¥æ˜¯0ã€1æˆ–2ã€‚
 *
 * 2. **æ­¥éª¤**ï¼š
 *    1. **è®¡ç®—æ€»å’Œ**ï¼š
 *       - è®¡ç®—æ‰€æœ‰æ•°å­—çš„å’Œï¼Œå¹¶é€šè¿‡å¯¹3å–æ¨¡æ¥ç¡®å®šæ€»å’Œçš„æ¨¡3ç»“æœï¼ˆ`remainderOfSum`ï¼‰ã€‚è¿™ä¸ªç»“æœå‘Šè¯‰æˆ‘ä»¬å¦‚ä½•è°ƒæ•´æ•°å­—ï¼Œä»¥ç¡®ä¿æœ€ç»ˆæ„å»ºçš„æ•°å­—èƒ½å¤Ÿè¢«3æ•´é™¤ã€‚
 *
 *    2. **ç¡®å®šç§»é™¤ç­–ç•¥**ï¼š
 *       - **å¦‚æœ `remainderOfSum` ä¸º0**ï¼šè¯´æ˜æ‰€æœ‰æ•°å­—çš„å’Œå·²ç»æ˜¯3çš„å€æ•°ï¼Œä¸éœ€è¦ç§»é™¤ä»»ä½•æ•°å­—ã€‚
 *       - **å¦‚æœ `remainderOfSum` ä¸º1**ï¼šå°è¯•ç§»é™¤ä¸€ä¸ªæ¨¡3ç»“æœä¸º1çš„æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ1ã€4ã€7ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„è¿™æ ·çš„æ•°å­—ï¼Œåˆ™éœ€è¦ç§»é™¤ä¸¤ä¸ªæ¨¡3ç»“æœä¸º2çš„æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ2ã€5ã€8ï¼‰ã€‚
 *       - **å¦‚æœ `remainderOfSum` ä¸º2**ï¼šå°è¯•ç§»é™¤ä¸€ä¸ªæ¨¡3ç»“æœä¸º2çš„æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ2ã€5ã€8ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„è¿™æ ·çš„æ•°å­—ï¼Œåˆ™éœ€è¦ç§»é™¤ä¸¤ä¸ªæ¨¡3ç»“æœä¸º1çš„æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ1ã€4ã€7ï¼‰ã€‚
 *
 *    3. **æ„å»ºç»“æœ**ï¼š
 *       - é€šè¿‡ä¸€ä¸ªè®¡æ•°å™¨æ•°ç»„æ¥è·Ÿè¸ªæ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ã€‚
 *       - ä»9åˆ°0éå†ï¼ˆä»å¤§åˆ°å°ï¼‰ï¼Œæ ¹æ®ä¹‹å‰ç¡®å®šçš„ç§»é™¤ç­–ç•¥æ¥æ„å»ºæœ€ç»ˆç»“æœå­—ç¬¦ä¸²ã€‚ç¡®ä¿åœ¨å­—ç¬¦ä¸²ä¸­è¾ƒå¤§çš„æ•°å­—æ’åœ¨å‰é¢ï¼Œä»¥ä¾¿æ„å»ºå‡ºæœ€å¤§çš„æ•°å­—ã€‚
 *
 *    4. **å¤„ç†ç‰¹æ®Šæƒ…å†µ**ï¼š
 *       - å¦‚æœæœ€ç»ˆå­—ç¬¦ä¸²ä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰åˆæ³•çš„æ•°å­—ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚
 *       - å¦‚æœå­—ç¬¦ä¸²ä»¥0å¼€å¤´ï¼Œè¯´æ˜æ‰€æœ‰æ•°å­—éƒ½æ˜¯0ï¼Œè¿”å›"0"ã€‚
 *
 * ### æ—¶é—´å¤æ‚åº¦
 *
 * - **O(n)**ï¼š
 *   - **éå†æ•°å­—æ•°ç»„**ï¼šè®¡ç®—æ€»å’Œå’Œæ›´æ–°è®¡æ•°å™¨æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå…¶ä¸­næ˜¯æ•°å­—æ•°ç»„çš„é•¿åº¦ã€‚
 *   - **æ„å»ºç»“æœå­—ç¬¦ä¸²**ï¼šéå†è®¡æ•°å™¨æ•°ç»„å’Œæ„å»ºç»“æœå­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå› ä¸ºè®¡æ•°å™¨æ•°ç»„çš„é•¿åº¦æ˜¯å¸¸æ•°ï¼ˆ0-9ï¼‰ã€‚
 *
 * - **æ€»ä½“æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
 *
 * ### ç©ºé—´å¤æ‚åº¦
 *
 * - **O(1)**ï¼š
 *   - **è®¡æ•°å™¨æ•°ç»„**ï¼šå›ºå®šå¤§å°ä¸º10ï¼Œç”¨äºå­˜å‚¨0åˆ°9çš„æ•°å­—è®¡æ•°ã€‚
 *   - **å…¶ä»–å˜é‡**ï¼šä»…ä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´æ¥å­˜å‚¨ä¸­é—´è®¡ç®—ç»“æœå’Œä¸´æ—¶å˜é‡ã€‚
 *
 * - **æ€»ä½“ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
 *
 * è¿™ç§æ–¹æ³•æœ‰æ•ˆåœ°ä½¿ç”¨äº†å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ï¼Œå¹¶ä¸”æ—¶é—´å¤æ‚åº¦ä»…ä¸è¾“å…¥æ•°ç»„çš„é•¿åº¦çº¿æ€§ç›¸å…³ï¼Œä½¿å¾—å®ƒåœ¨å¤„ç†è¾ƒå¤§æ•°ç»„æ—¶ä¹Ÿè¡¨ç°è‰¯å¥½ã€‚
 */
public class LeetCode_1363_LargestMultipleOfThree {

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public String largestMultipleOfThree(int[] digits) {
            /**
             * é‡è¦è¯´æ˜ï¼š
             * 1. å¦‚æœæ‰€æœ‰æ•°å­—çš„å’Œå¯ä»¥è¢«3æ•´é™¤ï¼Œåˆ™æ•´ä¸ªæ•°å­—ä¹Ÿå¯ä»¥è¢«3æ•´é™¤ã€‚
             * 2. å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œå¦‚æœå…¶æ¨¡3çš„ç»“æœæ˜¯0ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™äº›æ•°å­—åœ¨ç»“æœä¸­å‡ºç°çš„ä½ç½®æ˜¯ä¼˜å…ˆçš„ï¼ˆä»å¤§åˆ°å°ï¼‰ï¼Œ
             *    æ¯”å¦‚9åº”æ”¾åœ¨å‰é¢ï¼Œ0åº”æ”¾åœ¨æœ€åé¢ã€‚
             * 3. æ’åºå¯ä»¥ä½¿å¾—ç»“æœæ›´å®¹æ˜“æ„å»ºï¼Œä½†æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚
             * 4. å› ä¸ºæ•°å­—èŒƒå›´æ˜¯0-9ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é•¿åº¦ä¸º10çš„æ•°ç»„æ¥è®¡æ•°ã€‚
             */

            // å¦‚æœæ•°ç»„åªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œç›´æ¥æ£€æŸ¥å®ƒæ˜¯å¦èƒ½è¢«3æ•´é™¤
            if(digits.length == 1){
                if(digits[0] % 3 == 0){
                    return Integer.toString(digits[0]); // å¦‚æœå¯ä»¥è¢«3æ•´é™¤ï¼Œè¿”å›è¯¥æ•°å­—
                }
                else{
                    return ""; // å¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²
                }
            }

            // åˆ›å»ºä¸€ä¸ªå˜é‡ä¿å­˜æ‰€æœ‰æ•°å­—å’Œçš„æ¨¡3ç»“æœ
            int remainderOfSum = 0;
            // åˆ›å»ºä¸€ä¸ªæ•°ç»„ç”¨äºç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°
            int[] counter = new int[10];

            // éå†æ¯ä¸ªæ•°å­—ï¼Œæ›´æ–°è®¡æ•°å™¨å¹¶è®¡ç®—æ‰€æœ‰æ•°å­—çš„å’Œ
            for(int i: digits){
                counter[i]++;
                remainderOfSum = remainderOfSum + i;
            }

            // ç»Ÿè®¡æ¨¡3ç»“æœä¸º1å’Œ2çš„æ•°å­—æ•°é‡
            int remainderOf1 = counter[1] + counter[4] + counter[7];
            int remainderOf2 = counter[2] + counter[5] + counter[8];

            // è®¡ç®—æ€»å’Œçš„æ¨¡3ç»“æœ
            remainderOfSum = remainderOfSum % 3;

            /**
             * æ ¹æ®ä¸åŒçš„æ¨¡3ç»“æœï¼Œå¤„ç†ç§»é™¤æ•°å­—çš„ç­–ç•¥ï¼š
             * 1. å¦‚æœæ¨¡3ç»“æœä¸º0ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•æ“ä½œ
             * 2. å¦‚æœæ¨¡3ç»“æœä¸º1ï¼Œéœ€è¦ç§»é™¤æ¨¡3ç»“æœä¸º1çš„æœ€å°æ•°å­—
             *    å¦‚æœä¸èƒ½ç§»é™¤å•ä¸ªæ•°å­—ï¼Œåˆ™ç§»é™¤æ¨¡3ç»“æœä¸º2çš„ä¸¤ä¸ªæ•°å­—
             * 3. å¦‚æœæ¨¡3ç»“æœä¸º2ï¼Œéœ€è¦ç§»é™¤æ¨¡3ç»“æœä¸º2çš„æœ€å°æ•°å­—
             *    å¦‚æœä¸èƒ½ç§»é™¤å•ä¸ªæ•°å­—ï¼Œåˆ™ç§»é™¤æ¨¡3ç»“æœä¸º1çš„ä¸¤ä¸ªæ•°å­—
             */
            if(remainderOfSum == 1){
                if(remainderOf1 > 0){
                    remainderOf1--; // ç§»é™¤ä¸€ä¸ªæ¨¡3ç»“æœä¸º1çš„æ•°å­—
                }
                else{
                    remainderOf2 = remainderOf2 - 2; // ç§»é™¤ä¸¤ä¸ªæ¨¡3ç»“æœä¸º2çš„æ•°å­—
                }
            }
            if(remainderOfSum == 2){
                if(remainderOf2 > 0){
                    remainderOf2--; // ç§»é™¤ä¸€ä¸ªæ¨¡3ç»“æœä¸º2çš„æ•°å­—
                }
                else{
                    remainderOf1 = remainderOf1 - 2; // ç§»é™¤ä¸¤ä¸ªæ¨¡3ç»“æœä¸º1çš„æ•°å­—
                }
            }

            // æ„å»ºæœ€ç»ˆçš„ç»“æœå­—ç¬¦ä¸²
            StringBuilder sb = new StringBuilder();

            /**
             * ä¸ºäº†å¾—åˆ°æœ€å¤§çš„æ•°å­—ï¼Œæˆ‘ä»¬ä»9å¼€å§‹åˆ°0éå†ï¼Œä¾æ¬¡æ·»åŠ æ•°å­—ã€‚
             * æ ¹æ®è®¡æ•°å™¨ä¸­å…è®¸ä½¿ç”¨çš„æ•°å­—ï¼Œæ„å»ºç»“æœå­—ç¬¦ä¸²ã€‚
             */
            for(int i = 9; i >= 0; i--){
                if(i % 3 == 0){
                    while(counter[i] > 0){
                        sb.append(i);
                        counter[i]--;
                    }
                }
                if(i % 3 == 1){
                    while(counter[i] > 0 && remainderOf1 > 0){
                        sb.append(i);
                        counter[i]--;
                        remainderOf1--;
                    }
                }
                if(i % 3 == 2){
                    while(counter[i] > 0 && remainderOf2 > 0){
                        sb.append(i);
                        counter[i]--;
                        remainderOf2--;
                    }
                }
            }

            // å¦‚æœç»“æœä¸ºç©ºæˆ–ä»¥0å¼€å¤´ï¼Œè¿”å›0
            // å¦åˆ™è¿”å›ç»“æœå­—ç¬¦ä¸²
            if(sb.length() == 0){
                return "";
            }
            else{
                if(sb.charAt(0) == '0'){
                    return "0";
                }
                else{
                    return sb.toString();
                }
            }

        }
    }
//leetcode submit region end(Prohibit modification and deletion)


    public static void main(String[] args) {
        Solution solution = new LeetCode_1363_LargestMultipleOfThree().new Solution();

        // æµ‹è¯•ç”¨ä¾‹1
        int[] digits1 = {8, 1, 9};
        System.out.println(solution.largestMultipleOfThree(digits1)); // åº”è¾“å‡º "981"

        // æµ‹è¯•ç”¨ä¾‹2
        int[] digits2 = {8, 6, 7, 1, 0};
        System.out.println(solution.largestMultipleOfThree(digits2)); // åº”è¾“å‡º "8760"

        // æµ‹è¯•ç”¨ä¾‹3
        int[] digits3 = {1};
        System.out.println(solution.largestMultipleOfThree(digits3)); // åº”è¾“å‡º ""

        // æµ‹è¯•ç”¨ä¾‹4
        int[] digits4 = {0, 0, 0, 0};
        System.out.println(solution.largestMultipleOfThree(digits4)); // åº”è¾“å‡º "0"
    }
}

/**
Given an array of digits digits, return the largest multiple of three that can 
be formed by concatenating some of the given digits in any order. If there is no 
answer return an empty string. 

 Since the answer may not fit in an integer data type, return the answer as a 
string. Note that the returning answer must not contain unnecessary leading zeros.
 

 
 Example 1: 

 
Input: digits = [8,1,9]
Output: "981"
 

 Example 2: 

 
Input: digits = [8,6,7,1,0]
Output: "8760"
 

 Example 3: 

 
Input: digits = [1]
Output: ""
 

 
 Constraints: 

 
 1 <= digits.length <= 10â´ 
 0 <= digits[i] <= 9 
 

 Related Topics Array Dynamic Programming Greedy ğŸ‘ 600 ğŸ‘ 87

*/