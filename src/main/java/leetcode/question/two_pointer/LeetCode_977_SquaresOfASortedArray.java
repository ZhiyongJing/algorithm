package leetcode.question.two_pointer;

import java.util.Arrays;

/**
 *@Question:  977. Squares of a Sorted Array
 *@Difculty:  1 [1->Easy, 2->Medium, 3->Hard]
 *@Frequency: 62.4%
 *@Time  Complexity: O(N)
 *@Space Complexity: O(N)
 */
/**
 * 1. é¢˜ç›®æè¿°ï¼š
 *
 * ç»™å®šä¸€ä¸ªå‡åºæ’åºçš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå…¶ä¸­åŒ…å« `n` ä¸ªå…ƒç´ ã€‚ä½ éœ€è¦è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œ
 * å…¶ä¸­åŒ…å« `nums` ä¸­æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ï¼Œå¹¶ä¸”è¿”å›çš„ç»“æœæ•°ç»„ä¹Ÿå¿…é¡»æ˜¯å‡åºæ’åˆ—çš„ã€‚
 *
 * è¾“å…¥ï¼šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œå…¶ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯è´Ÿæ•°ã€é›¶æˆ–è€…æ­£æ•°ï¼Œä¸”æ•°ç»„å·²æŒ‰å‡åºæ’åºã€‚
 * è¾“å‡ºï¼šä¸€ä¸ªåŒ…å« `nums` ä¸­æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹çš„æ–°æ•°ç»„ï¼Œå¹¶ä¸”è¯¥æ•°ç»„æŒ‰å‡åºæ’åˆ—ã€‚
 *
 * ç¤ºä¾‹ï¼š
 * è¾“å…¥ï¼š`[-4, -1, 0, 3, 10]`
 * è¾“å‡ºï¼š`[0, 1, 9, 16, 100]`
 *
 * è¾“å…¥ï¼š`[-7, -3, 2, 3, 11]`
 * è¾“å‡ºï¼š`[4, 9, 9, 49, 121]`
 *
 * 2. è§£é¢˜æ€è·¯ï¼š
 *
 * - ç”±äºè¾“å…¥æ•°ç»„å·²ç»æ˜¯å‡åºæ’åˆ—çš„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯è´Ÿæ•°ã€é›¶æˆ–æ­£æ•°ï¼Œå› æ­¤å¹³æ–¹åè¾ƒå¤§çš„å€¼å¯èƒ½å‡ºç°åœ¨æ•°ç»„çš„ä¸¤ç«¯ã€‚
 * - æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œå·¦æŒ‡é’ˆ `left` æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æŒ‡é’ˆ `right` æŒ‡å‘æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚
 *
 * æ­¥éª¤ï¼š
 * 1. åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ `left` å’Œ `right`ï¼š
 *    - `left` æŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆç´¢å¼•ä¸º 0ï¼‰ï¼Œ`right` æŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç´¢å¼•ä¸º `n - 1`ï¼‰ã€‚
 *    - ä¾‹å¦‚ï¼Œå¯¹äºæ•°ç»„ `[-4, -1, 0, 3, 10]`ï¼Œ`left` æŒ‡å‘ `-4`ï¼Œ`right` æŒ‡å‘ `10`ã€‚
 *
 * 2. åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æœæ•°ç»„ `result` ç”¨äºå­˜å‚¨å¹³æ–¹åçš„å…ƒç´ ï¼š
 *    - ç»“æœæ•°ç»„çš„å¤§å°ä¸è¾“å…¥æ•°ç»„ç›¸åŒï¼Œåˆå§‹åŒ–æ—¶ä¸ºç©ºã€‚
 *
 * 3. åŒæŒ‡é’ˆéå†æ•°ç»„ï¼š
 *    - æ¯”è¾ƒ `left` å’Œ `right` æŒ‡å‘çš„ä¸¤ä¸ªå…ƒç´ çš„ç»å¯¹å€¼ï¼Œé€‰æ‹©è¾ƒå¤§çš„ç»å¯¹å€¼å¹¶è®¡ç®—å…¶å¹³æ–¹ï¼Œæ’å…¥åˆ° `result` æ•°ç»„çš„æœ«å°¾ã€‚
 *    - æ¯æ¬¡æ¯”è¾ƒåï¼Œç›¸åº”åœ°è°ƒæ•´æŒ‡é’ˆï¼š
 *      - å¦‚æœå·¦è¾¹çš„å…ƒç´ ç»å¯¹å€¼è¾ƒå¤§ï¼Œåˆ™å°† `left` å‘å³ç§»åŠ¨ï¼ˆ`left++`ï¼‰ã€‚
 *      - å¦‚æœå³è¾¹çš„å…ƒç´ ç»å¯¹å€¼è¾ƒå¤§ï¼Œåˆ™å°† `right` å‘å·¦ç§»åŠ¨ï¼ˆ`right--`ï¼‰ã€‚
 *    - é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ° `left` è¶…è¿‡ `right`ï¼Œæ­¤æ—¶ç»“æœæ•°ç»„ä¸­åŒ…å«æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹ã€‚
 *    - ä¾‹å¦‚ï¼Œç»™å®š `nums = [-4, -1, 0, 3, 10]`ï¼š
 *      - ç¬¬ä¸€æ­¥ï¼šæ¯”è¾ƒ `|-4|` å’Œ `|10|`ï¼Œé€‰æ‹© `10`ï¼Œå¹¶è®¡ç®—å…¶å¹³æ–¹ `100`ï¼Œå°†å…¶æ”¾å…¥ç»“æœæ•°ç»„ `[100]`ã€‚
 *      - ç¬¬äºŒæ­¥ï¼šæ¯”è¾ƒ `|-4|` å’Œ `|3|`ï¼Œé€‰æ‹© `3`ï¼Œå¹¶è®¡ç®—å…¶å¹³æ–¹ `9`ï¼Œå°†å…¶æ”¾å…¥ç»“æœæ•°ç»„ `[100, 9]`ã€‚
 *      - ç¬¬ä¸‰æ­¥ï¼šç»§ç»­æ­¤è¿‡ç¨‹ï¼Œæœ€ç»ˆå¾—åˆ° `[0, 1, 9, 16, 100]`ã€‚
 *
 * 4. è¿”å›ç»“æœæ•°ç»„ `result`ï¼Œå³ä¸ºæ‰€æ±‚çš„å¹³æ–¹åçš„å‡åºæ•°ç»„ã€‚

 * 3. æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ï¼š
 *
 * - æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œæˆ‘ä»¬åªéœ€è¦éå†ä¸€æ¬¡è¾“å…¥æ•°ç»„ï¼Œæ¯”è¾ƒå’Œè®¡ç®—å¹³æ–¹æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚
 * - ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸è¾“å…¥æ•°ç»„é•¿åº¦ç›¸åŒçš„ç»“æœæ•°ç»„æ¥å­˜å‚¨å¹³æ–¹åçš„å…ƒç´ ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚
 */


public class LeetCode_977_SquaresOfASortedArray{

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        // è¯¥æ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯è¾“å…¥æ•°ç»„å¯¹åº”å…ƒç´ çš„å¹³æ–¹ï¼Œå¹¶ä¸”è¯¥æ•°ç»„æ˜¯å‡åºæ’åºçš„
        public int[] sortedSquares(int[] nums) {
            int n = nums.length; // è·å–è¾“å…¥æ•°ç»„çš„é•¿åº¦
            int[] result = new int[n]; // åˆ›å»ºä¸€ä¸ªä¸è¾“å…¥æ•°ç»„ç›¸åŒé•¿åº¦çš„ç»“æœæ•°ç»„
            int left = 0; // åˆå§‹åŒ–å·¦æŒ‡é’ˆ
            int right = n - 1; // åˆå§‹åŒ–å³æŒ‡é’ˆ

            // ä»æ•°ç»„çš„æœ«å°¾å¼€å§‹éå†ç»“æœæ•°ç»„ï¼Œç¡®ä¿æ’åºæ˜¯å‡åºçš„
            for (int i = n - 1; i >= 0; i--) {
                int square; // ç”¨äºå­˜å‚¨å½“å‰å¤„ç†å…ƒç´ çš„å¹³æ–¹

                // æ¯”è¾ƒå·¦å³ä¸¤è¾¹å…ƒç´ çš„ç»å¯¹å€¼ï¼Œé€‰æ‹©è¾ƒå¤§çš„å…ƒç´ è®¡ç®—å¹³æ–¹
                if (Math.abs(nums[left]) < Math.abs(nums[right])) {
                    square = nums[right]; // å¦‚æœå³è¾¹å…ƒç´ çš„ç»å¯¹å€¼æ›´å¤§ï¼Œé€‰æ‹©å³è¾¹å…ƒç´ 
                    right--; // å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨
                } else {
                    square = nums[left]; // å¦åˆ™é€‰æ‹©å·¦è¾¹å…ƒç´ 
                    left++; // å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨
                }

                result[i] = square * square; // å°†å½“å‰é€‰æ‹©å…ƒç´ çš„å¹³æ–¹æ”¾å…¥ç»“æœæ•°ç»„çš„ç›¸åº”ä½ç½®
            }
            return result; // è¿”å›ç»“æœæ•°ç»„
        }
    }
//leetcode submit region end(Prohibit modification and deletion)


    public static void main(String[] args) {
        Solution solution = new LeetCode_977_SquaresOfASortedArray().new Solution();

        // æµ‹è¯•æ ·ä¾‹1
        int[] nums1 = {-4, -1, 0, 3, 10};
        int[] result1 = solution.sortedSquares(nums1);
        System.out.println("Test 1: " + Arrays.toString(result1)); // è¾“å‡ºï¼š[0, 1, 9, 16, 100]

        // æµ‹è¯•æ ·ä¾‹2
        int[] nums2 = {-7, -3, 2, 3, 11};
        int[] result2 = solution.sortedSquares(nums2);
        System.out.println("Test 2: " + Arrays.toString(result2)); // è¾“å‡ºï¼š[4, 9, 9, 49, 121]
    }
}

/**
Given an integer array nums sorted in non-decreasing order, return an array of 
the squares of each number sorted in non-decreasing order. 

 
 Example 1: 

 
Input: nums = [-4,-1,0,3,10]
Output: [0,1,9,16,100]
Explanation: After squaring, the array becomes [16,1,0,9,100].
After sorting, it becomes [0,1,9,16,100].
 

 Example 2: 

 
Input: nums = [-7,-3,2,3,11]
Output: [4,9,9,49,121]
 

 
 Constraints: 

 
 1 <= nums.length <= 10â´ 
 -10â´ <= nums[i] <= 10â´ 
 nums is sorted in non-decreasing order. 
 

 
Follow up: Squaring each element and sorting the new array is very trivial, 
could you find an 
O(n) solution using a different approach?

 Related Topics Array Two Pointers Sorting ğŸ‘ 9511 ğŸ‘ 247

*/